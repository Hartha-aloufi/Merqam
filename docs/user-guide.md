# 👤 User Guide - Requesting Lessons

## 🎯 Quick Start

### Step 1: Find Your Content 🔍
1. Go to the Merqam homepage
2. Paste a YouTube video URL in the search box
3. Click "البحث" (Search)

### Step 2: Check What We Found 📋

You'll see one of these three scenarios:

---

## 📊 Scenario Guide

### ✅ Scenario 1: Content Already Available
> **"الدرس متوفر في مِرْقَم"** (Lesson available in Merqam)

**🎉 Great news!** Your lesson is ready to use immediately.

**✨ What you can do:**
- 📖 Read the full interactive lesson
- ✍️ Take notes and highlights
- ⏯️ Watch synchronized video
- 📊 Track your reading progress

**🚀 Next steps:**
- Click "عرض الدرس" (View Lesson) to start learning

---

### 🔄 Scenario 2: Available in Partner Database
> **"متوفر في باحث ولكن غير مكتمل في مِرْقَم"** (Available in Baheth but not complete in Merqam)

**📋 You have two options:**

#### Option A: Quick Access (Read-Only) 👀
- **⚡ Instant:** No waiting time
- **📖 Basic features:** Read content only
- **❌ Limitations:** No highlighting or notes
- **💡 Best for:** Quick reference or immediate access

**🚀 How to use:** Click "قراءة فقط" (Read Only)

#### Option B: Full Processing (Interactive) ⭐
- **⏱️ Wait time:** 15-30 minutes
- **🎯 Full features:** All interactive capabilities
- **✅ Enhanced:** Better quality from partner source
- **💡 Best for:** Serious study sessions

**🚀 How to use:** Click "طلب الإضافة" (Request Addition)

---

### 🆕 Scenario 3: Not Available Anywhere
> **"الدرس غير متوفر"** (Lesson not available)

**📝 Request new content creation:**
- **⏱️ Processing time:** 15-45 minutes
- **🤖 AI-enhanced:** Smart content processing
- **🎯 Full features:** Complete interactive experience
- **💡 Best for:** New or rare content

**🚀 How to use:** Click "طلب الإضافة" (Request Addition)

---

## 🔐 Authentication Required

### 🚪 When You Need to Login
- ✅ **Requesting new lessons** (Scenarios 2B & 3)
- ✅ **Retrying failed requests**
- ❌ **Browsing existing content** (No login needed)
- ❌ **Read-only access** (No login needed)

### 📱 Login Options
1. **📧 Email & Password**
   - Register with your email
   - Use a secure password
   - Access from any device

2. **🌐 Google Account**
   - One-click sign in
   - No password to remember
   - Sync across devices

### 🔄 Smart Login Flow
- **Automatic redirect:** After login, you'll return to your request
- **Session persistence:** Stay logged in across visits
- **Secure tokens:** Your data is protected

---

## 📈 Tracking Your Requests

### 📊 Request Status Page

After submitting a request, you'll be redirected to a status page:

**🔍 What you'll see:**
- **Current status:** pending → processing → completed
- **Progress bar:** Real-time completion percentage
- **Estimated time:** Approximate completion time
- **Error details:** If something goes wrong

**📱 Status Meanings:**
- 🟡 **Pending:** Request queued for processing
- 🔵 **Processing:** AI is working on your content
- 🟢 **Completed:** Lesson ready for use
- 🔴 **Failed:** Error occurred (can retry after 1 hour)

### 🔄 If Something Goes Wrong

**Common issues and solutions:**

1. **⏱️ Processing takes too long**
   - Normal range: 15-45 minutes
   - Peak times may be slower
   - Check status page for updates

2. **❌ Request failed**
   - Wait 1 hour before retrying
   - Check YouTube URL format
   - Contact support if persistent

3. **🔐 Authentication errors**
   - Try logging out and back in
   - Clear browser cookies
   - Use Google login as alternative

---

## 🛡️ Usage Limits & Fair Use

### 📊 Rate Limits
- **3 requests per hour** per user
- **1-hour cooldown** between retries for failed jobs
- **No limit** on browsing existing content

### 🎯 Why These Limits?
- **⚡ Server performance:** Keeps the system fast for everyone
- **💰 Cost management:** AI processing is expensive
- **🛡️ Abuse prevention:** Stops automated requests

### 💡 Tips for Efficient Use
- **🔍 Search first:** Check if content already exists
- **📋 Plan requests:** Batch your needs within the 3/hour limit
- **⏰ Off-peak usage:** Earlier/later times may process faster

---

## 💡 Pro Tips

### 🔍 URL Formats We Support
All of these work fine:
- `https://www.youtube.com/watch?v=VIDEO_ID`
- `https://youtu.be/VIDEO_ID`
- `https://youtube.com/watch?v=VIDEO_ID`
- `https://www.youtube.com/watch?v=VIDEO_ID&list=PLAYLIST`

### 📚 Best Practices
1. **🔍 Search before requesting:** Save time by checking existing content
2. **📱 Bookmark status pages:** Easy to check progress later
3. **⏰ Plan ahead:** Submit requests for future study sessions
4. **🔄 Use read-only for quick reference:** When you just need to check something

### 🎯 Making the Most of Features
- **📝 Take notes:** Use our note-taking system during study
- **🖍️ Highlight important points:** Visual learning aids
- **⏯️ Sync with video:** Watch and read simultaneously
- **📊 Track progress:** See how much you've completed

---

## ❓ Troubleshooting

### 🔧 Common Issues

**Problem:** "طلب الإضافة" button shows "تسجيل الدخول وطلب الإضافة"
- **Solution:** You need to log in first - this is normal!

**Problem:** "تجاوزت الحد المسموح من الطلبات"
- **Solution:** Wait until next hour - you've used your 3 requests

**Problem:** YouTube URL not accepted
- **Solution:** Copy the full URL from YouTube's address bar

**Problem:** Processing stuck at same percentage
- **Solution:** Refresh the page - progress updates every few seconds

### 📞 Getting Help

**For immediate help:**
1. **🔄 Refresh the page** - Solves most display issues
2. **🚪 Try logging out and back in** - Fixes authentication issues
3. **📱 Try a different browser** - Eliminates browser-specific problems

**For persistent issues:**
- Contact the development team
- Include the YouTube URL you're trying to process
- Mention which scenario you encountered
- Include any error messages you see

---

## 🎉 Success! Now What?

### 📚 Once Your Lesson is Ready

**🎯 Study Features:**
- **📖 Interactive reading:** Scroll through structured content
- **✍️ Personal notes:** Add your thoughts and insights
- **🖍️ Smart highlighting:** Mark important sections
- **⏯️ Video sync:** Watch relevant video segments
- **📊 Progress tracking:** See your study completion

**🔄 Sharing & Access:**
- **📱 Mobile friendly:** Study on any device
- **🔗 Direct links:** Bookmark or share specific lessons
- **⚡ Fast loading:** Optimized for quick access
- **🌐 Always available:** 24/7 access to your content

**📈 Track Your Learning:**
- **📊 Reading progress:** Visual completion indicators
- **📝 Note history:** Review your past insights
- **🎯 Study patterns:** See which topics you focus on
- **⏰ Time tracking:** Monitor your study sessions

---

*Happy learning! 📚✨*