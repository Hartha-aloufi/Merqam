{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":21868,"timestamp":"2025-04-03T18:07:33.463Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T18:07:33.477Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T18:07:33.478Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T18:07:33.484Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T18:07:33.484Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T18:10:16.043Z"}
{"level":"info","message":"Worker closed successfully","timestamp":"2025-04-03T18:10:16.049Z"}
{"level":"info","message":"Worker shutdown complete","timestamp":"2025-04-03T18:10:16.050Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":4636,"timestamp":"2025-04-03T18:12:31.538Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T18:12:31.539Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T18:12:31.540Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T18:12:31.544Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T18:12:31.544Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":20316,"timestamp":"2025-04-03T18:13:06.095Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T18:13:06.096Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T18:13:06.097Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T18:13:06.101Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T18:13:06.101Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":14620,"timestamp":"2025-04-03T18:55:13.303Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T18:55:13.304Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T18:55:13.305Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T18:55:13.310Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T18:55:13.310Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":3668,"timestamp":"2025-04-03T18:55:26.169Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T18:55:26.170Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T18:55:26.171Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T18:55:26.175Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T18:55:26.175Z"}
{"level":"info","memoryUsage":{"external":"3 MB","heapTotal":"27 MB","heapUsed":"24 MB","rss":"62 MB"},"message":"Worker status","timestamp":"2025-04-03T19:00:26.188Z","uptime":"301 seconds"}
{"level":"info","memoryUsage":{"external":"3 MB","heapTotal":"26 MB","heapUsed":"24 MB","rss":"62 MB"},"message":"Worker status","timestamp":"2025-04-03T19:05:26.197Z","uptime":"601 seconds"}
{"level":"info","memoryUsage":{"external":"3 MB","heapTotal":"26 MB","heapUsed":"24 MB","rss":"63 MB"},"message":"Worker status","timestamp":"2025-04-03T19:10:26.202Z","uptime":"901 seconds"}
{"level":"info","memoryUsage":{"external":"3 MB","heapTotal":"26 MB","heapUsed":"24 MB","rss":"63 MB"},"message":"Worker status","timestamp":"2025-04-03T19:15:26.210Z","uptime":"1201 seconds"}
{"jobId":"1fe99132-f2b5-4077-a20b-6c61992ebb5e","level":"info","message":"Job 1fe99132-f2b5-4077-a20b-6c61992ebb5e has started processing","timestamp":"2025-04-03T19:15:54.106Z"}
{"level":"info","message":"Initialized GeminiKeyManager with 2 keys","timestamp":"2025-04-03T19:15:54.114Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-03T19:15:54.115Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m","timestamp":"2025-04-03T19:15:54.117Z","url":"https://www.youtube.com/watch?v=RtlbFuwveAs&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=50"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m","timestamp":"2025-04-03T19:15:54.122Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-03T19:15:54.159Z"}
{"level":"info","message":"Transcript download complete","timestamp":"2025-04-03T19:16:21.964Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"level":"info","message":"Verified files exist","srt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs\\RtlbFuwveAs.srt","timestamp":"2025-04-03T19:16:21.965Z","txt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs\\RtlbFuwveAs.txt"}
{"level":"info","message":"Transcript extraction complete","timestamp":"2025-04-03T19:16:21.984Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"level":"info","message":"Text content read","size":27671,"timestamp":"2025-04-03T19:16:21.987Z"}
{"contentLength":27671,"level":"info","message":"Starting content processing","timestamp":"2025-04-03T19:16:22.005Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي"}
{"level":"info","message":"Splitting text of length 27671 into chunks...","timestamp":"2025-04-03T19:16:22.006Z"}
{"level":"info","message":"Created 1 chunks","timestamp":"2025-04-03T19:16:22.006Z"}
{"level":"info","message":"Chunk 1 length: 27671","timestamp":"2025-04-03T19:16:22.007Z"}
{"level":"info","message":"Splitting sentence 1 of length 27671 into more chunks (word based)...","timestamp":"2025-04-03T19:16:22.007Z"}
{"level":"info","message":"Created 2 chunks","timestamp":"2025-04-03T19:16:22.010Z"}
{"level":"info","message":"Chunk 1 length: 19999","timestamp":"2025-04-03T19:16:22.010Z"}
{"level":"info","message":"Chunk 2 length: 7671","timestamp":"2025-04-03T19:16:22.010Z"}
{"level":"info","message":"Processing chunk 1/2 (Attempt 1)","timestamp":"2025-04-03T19:16:22.011Z"}
{"level":"info","message":"Successfully processed chunk 1","timestamp":"2025-04-03T19:16:55.463Z"}
{"level":"info","message":"Processing chunk 2/2 (Attempt 1)","timestamp":"2025-04-03T19:16:55.968Z"}
{"level":"info","message":"Successfully processed chunk 2","timestamp":"2025-04-03T19:17:09.891Z"}
{"inputLength":27671,"level":"info","message":"Content processing completed","outputLength":27551,"timestamp":"2025-04-03T19:17:09.892Z"}
{"level":"info","message":"AI processing complete","processedSize":27631,"timestamp":"2025-04-03T19:17:09.928Z"}
{"level":"info","message":"Created temp MDX file","tempMdxPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs_temp.mdx","timestamp":"2025-04-03T19:17:09.948Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m\\RtlbFuwveAs.mdx","level":"info","message":"Created final MDX with timestamps","timestamp":"2025-04-03T19:17:15.633Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m\\RtlbFuwveAs.mdx","level":"info","message":"Conversion completed successfully","timestamp":"2025-04-03T19:17:15.650Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"error":{"message":"shouldRetryError is not defined","name":"ReferenceError","raw":"ReferenceError: shouldRetryError is not defined\n    at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)\n    at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)\n    at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)","sourceInfo":[{"column":"25","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"new JobError","line":"1242"},{"column":"10","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"processError","line":"1310"},{"column":"28","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"Worker.processJob [as processFn]","line":"3163"}],"stack":["at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)","at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)","at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)","at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32","at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)"]},"jobId":"1fe99132-f2b5-4077-a20b-6c61992ebb5e","jobInfo":{"attempts":1,"data":{"aiService":"gemini","playlistId":"PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m","speakerId":"f574a631-1f3b-4428-ad34-6ce686adb249","url":"https://www.youtube.com/watch?v=RtlbFuwveAs&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=50","userId":"74dd9512-f14d-450f-bd51-7d7be48248c6"},"maxAttempts":3,"timestamp":"2025-04-03T19:17:15.683Z"},"level":"error","message":"Job 1fe99132-f2b5-4077-a20b-6c61992ebb5e failed with error:","timestamp":"2025-04-03T19:17:15.683Z"}
{"jobId":"1fe99132-f2b5-4077-a20b-6c61992ebb5e","level":"info","message":"Job 1fe99132-f2b5-4077-a20b-6c61992ebb5e has started processing","timestamp":"2025-04-03T19:17:20.778Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-03T19:17:20.793Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m","timestamp":"2025-04-03T19:17:20.795Z","url":"https://www.youtube.com/watch?v=RtlbFuwveAs&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=50"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m","timestamp":"2025-04-03T19:17:20.799Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-03T19:17:20.820Z"}
{"level":"info","message":"Transcript download complete","timestamp":"2025-04-03T19:17:37.742Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"level":"info","message":"Verified files exist","srt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs\\RtlbFuwveAs.srt","timestamp":"2025-04-03T19:17:37.743Z","txt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs\\RtlbFuwveAs.txt"}
{"level":"info","message":"Transcript extraction complete","timestamp":"2025-04-03T19:17:37.760Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"level":"info","message":"Text content read","size":27671,"timestamp":"2025-04-03T19:17:37.761Z"}
{"contentLength":27671,"level":"info","message":"Starting content processing","timestamp":"2025-04-03T19:17:37.779Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي"}
{"level":"info","message":"Splitting text of length 27671 into chunks...","timestamp":"2025-04-03T19:17:37.779Z"}
{"level":"info","message":"Created 1 chunks","timestamp":"2025-04-03T19:17:37.779Z"}
{"level":"info","message":"Chunk 1 length: 27671","timestamp":"2025-04-03T19:17:37.780Z"}
{"level":"info","message":"Splitting sentence 1 of length 27671 into more chunks (word based)...","timestamp":"2025-04-03T19:17:37.780Z"}
{"level":"info","message":"Created 2 chunks","timestamp":"2025-04-03T19:17:37.783Z"}
{"level":"info","message":"Chunk 1 length: 19999","timestamp":"2025-04-03T19:17:37.783Z"}
{"level":"info","message":"Chunk 2 length: 7671","timestamp":"2025-04-03T19:17:37.784Z"}
{"level":"info","message":"Processing chunk 1/2 (Attempt 1)","timestamp":"2025-04-03T19:17:37.784Z"}
{"level":"info","message":"Successfully processed chunk 1","timestamp":"2025-04-03T19:18:11.037Z"}
{"level":"info","message":"Processing chunk 2/2 (Attempt 1)","timestamp":"2025-04-03T19:18:11.547Z"}
{"level":"info","message":"Successfully processed chunk 2","timestamp":"2025-04-03T19:18:23.005Z"}
{"inputLength":27671,"level":"info","message":"Content processing completed","outputLength":28365,"timestamp":"2025-04-03T19:18:23.006Z"}
{"level":"info","message":"AI processing complete","processedSize":28445,"timestamp":"2025-04-03T19:18:23.041Z"}
{"level":"info","message":"Created temp MDX file","tempMdxPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs_temp.mdx","timestamp":"2025-04-03T19:18:23.063Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m\\RtlbFuwveAs.mdx","level":"info","message":"Created final MDX with timestamps","timestamp":"2025-04-03T19:18:27.987Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m\\RtlbFuwveAs.mdx","level":"info","message":"Conversion completed successfully","timestamp":"2025-04-03T19:18:28.016Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"error":{"message":"shouldRetryError is not defined","name":"ReferenceError","raw":"ReferenceError: shouldRetryError is not defined\n    at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)\n    at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)\n    at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)","sourceInfo":[{"column":"25","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"new JobError","line":"1242"},{"column":"10","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"processError","line":"1310"},{"column":"28","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"Worker.processJob [as processFn]","line":"3163"}],"stack":["at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)","at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)","at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)","at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32","at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)"]},"jobId":"1fe99132-f2b5-4077-a20b-6c61992ebb5e","jobInfo":{"attempts":2,"data":{"aiService":"gemini","playlistId":"PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m","speakerId":"f574a631-1f3b-4428-ad34-6ce686adb249","url":"https://www.youtube.com/watch?v=RtlbFuwveAs&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=50","userId":"74dd9512-f14d-450f-bd51-7d7be48248c6"},"maxAttempts":3,"timestamp":"2025-04-03T19:18:28.082Z"},"level":"error","message":"Job 1fe99132-f2b5-4077-a20b-6c61992ebb5e failed with error:","timestamp":"2025-04-03T19:18:28.082Z"}
{"jobId":"1fe99132-f2b5-4077-a20b-6c61992ebb5e","level":"info","message":"Job 1fe99132-f2b5-4077-a20b-6c61992ebb5e has started processing","timestamp":"2025-04-03T19:18:38.090Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-03T19:18:38.095Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m","timestamp":"2025-04-03T19:18:38.096Z","url":"https://www.youtube.com/watch?v=RtlbFuwveAs&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=50"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m","timestamp":"2025-04-03T19:18:38.097Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-03T19:18:38.115Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T19:18:52.326Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":5248,"timestamp":"2025-04-03T19:19:42.418Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T19:19:42.420Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T19:19:42.421Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T19:19:42.425Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T19:19:42.425Z"}
{"jobId":"1fe99132-f2b5-4077-a20b-6c61992ebb5e","level":"warn","message":"Job 1fe99132-f2b5-4077-a20b-6c61992ebb5e has stalled","timestamp":"2025-04-03T19:20:12.468Z"}
{"jobId":"1fe99132-f2b5-4077-a20b-6c61992ebb5e","level":"info","message":"Job 1fe99132-f2b5-4077-a20b-6c61992ebb5e has started processing","timestamp":"2025-04-03T19:20:12.473Z"}
{"level":"info","message":"Initialized GeminiKeyManager with 2 keys","timestamp":"2025-04-03T19:20:12.479Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-03T19:20:12.480Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m","timestamp":"2025-04-03T19:20:12.481Z","url":"https://www.youtube.com/watch?v=RtlbFuwveAs&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=50"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m","timestamp":"2025-04-03T19:20:12.483Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-03T19:20:12.512Z"}
{"level":"info","message":"Transcript download complete","timestamp":"2025-04-03T19:20:31.836Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"level":"info","message":"Verified files exist","srt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs\\RtlbFuwveAs.srt","timestamp":"2025-04-03T19:20:31.836Z","txt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs\\RtlbFuwveAs.txt"}
{"level":"info","message":"Transcript extraction complete","timestamp":"2025-04-03T19:20:31.854Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"level":"info","message":"Text content read","size":27671,"timestamp":"2025-04-03T19:20:31.856Z"}
{"contentLength":27671,"level":"info","message":"Starting content processing","timestamp":"2025-04-03T19:20:31.874Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي"}
{"level":"info","message":"Splitting text of length 27671 into chunks...","timestamp":"2025-04-03T19:20:31.875Z"}
{"level":"info","message":"Created 1 chunks","timestamp":"2025-04-03T19:20:31.875Z"}
{"level":"info","message":"Chunk 1 length: 27671","timestamp":"2025-04-03T19:20:31.876Z"}
{"level":"info","message":"Splitting sentence 1 of length 27671 into more chunks (word based)...","timestamp":"2025-04-03T19:20:31.876Z"}
{"level":"info","message":"Created 2 chunks","timestamp":"2025-04-03T19:20:31.879Z"}
{"level":"info","message":"Chunk 1 length: 19999","timestamp":"2025-04-03T19:20:31.879Z"}
{"level":"info","message":"Chunk 2 length: 7671","timestamp":"2025-04-03T19:20:31.879Z"}
{"level":"info","message":"Processing chunk 1/2 (Attempt 1)","timestamp":"2025-04-03T19:20:31.880Z"}
{"level":"info","message":"Successfully processed chunk 1","timestamp":"2025-04-03T19:21:04.804Z"}
{"level":"info","message":"Processing chunk 2/2 (Attempt 1)","timestamp":"2025-04-03T19:21:05.308Z"}
{"level":"info","message":"Successfully processed chunk 2","timestamp":"2025-04-03T19:21:19.265Z"}
{"inputLength":27671,"level":"info","message":"Content processing completed","outputLength":28659,"timestamp":"2025-04-03T19:21:19.266Z"}
{"level":"info","message":"AI processing complete","processedSize":28739,"timestamp":"2025-04-03T19:21:19.305Z"}
{"level":"info","message":"Created temp MDX file","tempMdxPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs_temp.mdx","timestamp":"2025-04-03T19:21:19.327Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m\\RtlbFuwveAs.mdx","level":"info","message":"Created final MDX with timestamps","timestamp":"2025-04-03T19:21:28.181Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m\\RtlbFuwveAs.mdx","level":"info","message":"Conversion completed successfully","timestamp":"2025-04-03T19:21:28.204Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"error":{"message":"shouldRetryError is not defined","name":"ReferenceError","raw":"ReferenceError: shouldRetryError is not defined\n    at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)\n    at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)\n    at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)","sourceInfo":[{"column":"25","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"new JobError","line":"1242"},{"column":"10","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"processError","line":"1310"},{"column":"28","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"Worker.processJob [as processFn]","line":"3163"}],"stack":["at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)","at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)","at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)","at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32","at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)"]},"jobId":"1fe99132-f2b5-4077-a20b-6c61992ebb5e","jobInfo":{"attempts":3,"data":{"aiService":"gemini","playlistId":"PLaZe9Se_ZfV0En-ntIzTWjTkZIxnbvA3m","speakerId":"f574a631-1f3b-4428-ad34-6ce686adb249","url":"https://www.youtube.com/watch?v=RtlbFuwveAs&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=50","userId":"74dd9512-f14d-450f-bd51-7d7be48248c6"},"maxAttempts":3,"timestamp":"2025-04-03T19:21:28.288Z"},"level":"error","message":"Job 1fe99132-f2b5-4077-a20b-6c61992ebb5e failed with error:","timestamp":"2025-04-03T19:21:28.289Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T19:23:58.260Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":15624,"timestamp":"2025-04-03T19:24:14.315Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T19:24:14.316Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T19:24:14.317Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T19:24:14.322Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T19:24:14.322Z"}
{"jobId":"46c78603-1e51-41ba-bcd3-003c26b62e23","level":"info","message":"Job 46c78603-1e51-41ba-bcd3-003c26b62e23 has started processing","timestamp":"2025-04-03T19:25:46.974Z"}
{"level":"info","message":"Initialized GeminiKeyManager with 2 keys","timestamp":"2025-04-03T19:25:46.981Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-03T19:25:46.982Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T19:25:46.985Z","url":"https://www.youtube.com/watch?v=RtlbFuwveAs&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=50"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T19:25:46.990Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-03T19:25:47.036Z"}
{"level":"info","message":"Transcript download complete","timestamp":"2025-04-03T19:26:06.551Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"level":"info","message":"Verified files exist","srt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs\\RtlbFuwveAs.srt","timestamp":"2025-04-03T19:26:06.552Z","txt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs\\RtlbFuwveAs.txt"}
{"level":"info","message":"Transcript extraction complete","timestamp":"2025-04-03T19:26:06.574Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"level":"info","message":"Text content read","size":27671,"timestamp":"2025-04-03T19:26:06.575Z"}
{"contentLength":27671,"level":"info","message":"Starting content processing","timestamp":"2025-04-03T19:26:06.580Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي"}
{"level":"info","message":"Splitting text of length 27671 into chunks...","timestamp":"2025-04-03T19:26:06.581Z"}
{"level":"info","message":"Created 1 chunks","timestamp":"2025-04-03T19:26:06.581Z"}
{"level":"info","message":"Chunk 1 length: 27671","timestamp":"2025-04-03T19:26:06.582Z"}
{"level":"info","message":"Splitting sentence 1 of length 27671 into more chunks (word based)...","timestamp":"2025-04-03T19:26:06.582Z"}
{"level":"info","message":"Created 2 chunks","timestamp":"2025-04-03T19:26:06.584Z"}
{"level":"info","message":"Chunk 1 length: 19999","timestamp":"2025-04-03T19:26:06.585Z"}
{"level":"info","message":"Chunk 2 length: 7671","timestamp":"2025-04-03T19:26:06.585Z"}
{"level":"info","message":"Processing chunk 1/2 (Attempt 1)","timestamp":"2025-04-03T19:26:06.586Z"}
{"level":"info","message":"Successfully processed chunk 1","timestamp":"2025-04-03T19:26:41.324Z"}
{"level":"info","message":"Processing chunk 2/2 (Attempt 1)","timestamp":"2025-04-03T19:26:41.834Z"}
{"level":"info","message":"Successfully processed chunk 2","timestamp":"2025-04-03T19:26:54.106Z"}
{"inputLength":27671,"level":"info","message":"Content processing completed","outputLength":28198,"timestamp":"2025-04-03T19:26:54.107Z"}
{"level":"info","message":"AI processing complete","processedSize":28278,"timestamp":"2025-04-03T19:26:54.135Z"}
{"level":"info","message":"Created temp MDX file","tempMdxPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RtlbFuwveAs_temp.mdx","timestamp":"2025-04-03T19:26:54.143Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0\\RtlbFuwveAs.mdx","level":"info","message":"Created final MDX with timestamps","timestamp":"2025-04-03T19:26:59.679Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0\\RtlbFuwveAs.mdx","level":"info","message":"Conversion completed successfully","timestamp":"2025-04-03T19:26:59.684Z","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"}
{"jobId":"46c78603-1e51-41ba-bcd3-003c26b62e23","level":"info","message":"Job 46c78603-1e51-41ba-bcd3-003c26b62e23 completed successfully with result:","result":{"lessonId":"51b7b255-7632-43b1-a8e9-63bd1c185835","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","title":"السيرة النبوية | 50. لماذا حمل النبي ﷺ السيف؟ وكيف بدأ الجهاد؟ | محمد إلهامي","videoId":"RtlbFuwveAs"},"timestamp":"2025-04-03T19:26:59.736Z"}
{"level":"info","memoryUsage":{"external":"4 MB","heapTotal":"39 MB","heapUsed":"29 MB","rss":"83 MB"},"message":"Worker status","timestamp":"2025-04-03T19:29:14.339Z","uptime":"301 seconds"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T19:29:22.410Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.6.0","platform":"win32","processId":17580,"timestamp":"2025-04-03T19:42:17.631Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T19:42:17.632Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T19:42:17.633Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T19:42:17.639Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T19:42:17.639Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T19:43:27.552Z"}
{"level":"info","message":"Worker closed successfully","timestamp":"2025-04-03T19:43:27.559Z"}
{"level":"info","message":"Worker shutdown complete","timestamp":"2025-04-03T19:43:27.560Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.6.0","platform":"win32","processId":12140,"timestamp":"2025-04-03T19:45:53.898Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T19:45:53.899Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T19:45:53.899Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T19:45:53.904Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T19:45:53.904Z"}
{"jobId":"2c5716c1-4f2a-4d4c-84d5-c658766fffee","level":"info","message":"Job 2c5716c1-4f2a-4d4c-84d5-c658766fffee has started processing","timestamp":"2025-04-03T19:46:51.061Z"}
{"level":"info","message":"Initialized GeminiKeyManager with 2 keys","timestamp":"2025-04-03T19:46:51.089Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-03T19:46:51.094Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T19:46:51.164Z","url":"https://www.youtube.com/watch?v=U4BiXJZWUB8&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=51"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T19:46:51.175Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-03T19:46:51.253Z"}
{"level":"info","message":"Transcript download complete","timestamp":"2025-04-03T19:47:09.747Z","title":"السيرة النبوية | 51. لماذا لم تحقق الغزوات والسرايا الأولى أهدافها العسكرية؟ | محمد إلهامي","videoId":"U4BiXJZWUB8"}
{"level":"info","message":"Verified files exist","srt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\U4BiXJZWUB8\\U4BiXJZWUB8.srt","timestamp":"2025-04-03T19:47:09.748Z","txt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\U4BiXJZWUB8\\U4BiXJZWUB8.txt"}
{"level":"info","message":"Transcript extraction complete","timestamp":"2025-04-03T19:47:09.770Z","title":"السيرة النبوية | 51. لماذا لم تحقق الغزوات والسرايا الأولى أهدافها العسكرية؟ | محمد إلهامي","videoId":"U4BiXJZWUB8"}
{"level":"info","message":"Text content read","size":33854,"timestamp":"2025-04-03T19:47:09.771Z"}
{"contentLength":33854,"level":"info","message":"Starting content processing","timestamp":"2025-04-03T19:47:09.775Z","title":"السيرة النبوية | 51. لماذا لم تحقق الغزوات والسرايا الأولى أهدافها العسكرية؟ | محمد إلهامي"}
{"level":"info","message":"Splitting text of length 33854 into chunks...","timestamp":"2025-04-03T19:47:09.775Z"}
{"level":"info","message":"Created 1 chunks","timestamp":"2025-04-03T19:47:09.777Z"}
{"level":"info","message":"Chunk 1 length: 33854","timestamp":"2025-04-03T19:47:09.778Z"}
{"level":"info","message":"Splitting sentence 1 of length 33854 into more chunks (word based)...","timestamp":"2025-04-03T19:47:09.779Z"}
{"level":"info","message":"Created 2 chunks","timestamp":"2025-04-03T19:47:09.781Z"}
{"level":"info","message":"Chunk 1 length: 19999","timestamp":"2025-04-03T19:47:09.781Z"}
{"level":"info","message":"Chunk 2 length: 13854","timestamp":"2025-04-03T19:47:09.781Z"}
{"level":"info","message":"Processing chunk 1/2 (Attempt 1)","timestamp":"2025-04-03T19:47:09.783Z"}
{"level":"info","message":"Successfully processed chunk 1","timestamp":"2025-04-03T19:47:40.397Z"}
{"level":"info","message":"Processing chunk 2/2 (Attempt 1)","timestamp":"2025-04-03T19:47:40.917Z"}
{"level":"info","message":"Successfully processed chunk 2","timestamp":"2025-04-03T19:48:00.637Z"}
{"inputLength":33854,"level":"info","message":"Content processing completed","outputLength":34413,"timestamp":"2025-04-03T19:48:00.638Z"}
{"level":"info","message":"AI processing complete","processedSize":34507,"timestamp":"2025-04-03T19:48:00.667Z"}
{"level":"info","message":"Created temp MDX file","tempMdxPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\U4BiXJZWUB8_temp.mdx","timestamp":"2025-04-03T19:48:00.673Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0\\U4BiXJZWUB8.mdx","level":"info","message":"Created final MDX with timestamps","timestamp":"2025-04-03T19:48:08.283Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0\\U4BiXJZWUB8.mdx","level":"info","message":"Conversion completed successfully","timestamp":"2025-04-03T19:48:08.289Z","title":"السيرة النبوية | 51. لماذا لم تحقق الغزوات والسرايا الأولى أهدافها العسكرية؟ | محمد إلهامي","videoId":"U4BiXJZWUB8"}
{"jobId":"2c5716c1-4f2a-4d4c-84d5-c658766fffee","level":"info","message":"Job 2c5716c1-4f2a-4d4c-84d5-c658766fffee completed successfully with result:","result":{"lessonId":"2ba59128-a21e-461e-ba99-5b0e1b8204f0","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","title":"السيرة النبوية | 51. لماذا لم تحقق الغزوات والسرايا الأولى أهدافها العسكرية؟ | محمد إلهامي","videoId":"U4BiXJZWUB8"},"timestamp":"2025-04-03T19:48:08.380Z"}
{"level":"info","memoryUsage":{"external":"4 MB","heapTotal":"13 MB","heapUsed":"12 MB","rss":"284 MB"},"message":"Worker status","timestamp":"2025-04-03T19:50:53.931Z","uptime":"301 seconds"}
{"level":"info","memoryUsage":{"external":"4 MB","heapTotal":"13 MB","heapUsed":"12 MB","rss":"270 MB"},"message":"Worker status","timestamp":"2025-04-03T19:55:53.929Z","uptime":"601 seconds"}
{"level":"info","memoryUsage":{"external":"4 MB","heapTotal":"13 MB","heapUsed":"12 MB","rss":"265 MB"},"message":"Worker status","timestamp":"2025-04-03T20:00:53.952Z","uptime":"901 seconds"}
{"level":"info","memoryUsage":{"external":"4 MB","heapTotal":"13 MB","heapUsed":"13 MB","rss":"265 MB"},"message":"Worker status","timestamp":"2025-04-03T20:05:53.944Z","uptime":"1201 seconds"}
{"level":"info","memoryUsage":{"external":"5 MB","heapTotal":"13 MB","heapUsed":"13 MB","rss":"90 MB"},"message":"Worker status","timestamp":"2025-04-03T20:10:53.952Z","uptime":"1501 seconds"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.6.0","platform":"win32","processId":22672,"timestamp":"2025-04-03T20:55:56.647Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T20:55:56.648Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T20:55:56.649Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T20:55:56.655Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T20:55:56.655Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T20:57:16.267Z"}
{"level":"info","message":"Worker closed successfully","timestamp":"2025-04-03T20:57:16.277Z"}
{"level":"info","message":"Worker shutdown complete","timestamp":"2025-04-03T20:57:16.279Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.6.0","platform":"win32","processId":7164,"timestamp":"2025-04-03T20:59:12.548Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T20:59:12.549Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T20:59:12.550Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T20:59:12.555Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T20:59:12.555Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T21:01:48.667Z"}
{"level":"info","message":"Worker closed successfully","timestamp":"2025-04-03T21:01:48.676Z"}
{"level":"info","message":"Worker shutdown complete","timestamp":"2025-04-03T21:01:48.678Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.6.0","platform":"win32","processId":18344,"timestamp":"2025-04-03T21:23:34.661Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T21:23:34.662Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T21:23:34.663Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T21:23:34.668Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T21:23:34.668Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T21:25:15.345Z"}
{"level":"info","message":"Worker closed successfully","timestamp":"2025-04-03T21:25:15.354Z"}
{"level":"info","message":"Worker shutdown complete","timestamp":"2025-04-03T21:25:15.354Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":18312,"timestamp":"2025-04-03T21:57:15.532Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T21:57:15.533Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T21:57:15.534Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T21:57:15.539Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T21:57:15.539Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:15.557Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:15.559Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:16.578Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:16.579Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:17.585Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:17.586Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:18.588Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:18.589Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:19.596Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:19.597Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:20.618Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:57:20.619Z"}
{"jobId":"19e2344e-fa33-4643-8226-c6ec94d4cf72","level":"info","message":"Job 19e2344e-fa33-4643-8226-c6ec94d4cf72 has started processing","timestamp":"2025-04-03T21:57:21.649Z"}
{"level":"info","message":"Initialized GeminiKeyManager with 2 keys","timestamp":"2025-04-03T21:57:21.656Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-03T21:57:21.656Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T21:57:21.658Z","url":"https://www.youtube.com/watch?v=RyqjHfHntiI&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=52"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T21:57:21.660Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-03T21:57:21.674Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T21:57:33.028Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":7272,"timestamp":"2025-04-03T21:58:49.385Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T21:58:49.386Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T21:58:49.387Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T21:58:49.391Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T21:58:49.391Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:49.404Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:49.405Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:50.412Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:50.413Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:51.426Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:51.426Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:52.432Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:52.433Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:53.434Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:53.435Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:54.436Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-03T21:58:54.437Z"}
{"jobId":"19e2344e-fa33-4643-8226-c6ec94d4cf72","level":"warn","message":"Job 19e2344e-fa33-4643-8226-c6ec94d4cf72 has stalled","timestamp":"2025-04-03T21:59:25.458Z"}
{"jobId":"19e2344e-fa33-4643-8226-c6ec94d4cf72","level":"info","message":"Job 19e2344e-fa33-4643-8226-c6ec94d4cf72 has started processing","timestamp":"2025-04-03T21:59:25.462Z"}
{"level":"info","message":"Initialized GeminiKeyManager with 2 keys","timestamp":"2025-04-03T21:59:25.469Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-03T21:59:25.469Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T21:59:25.471Z","url":"https://www.youtube.com/watch?v=RyqjHfHntiI&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=52"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T21:59:25.473Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-03T21:59:25.544Z"}
{"error":{"message":"shouldRetryError is not defined","name":"ReferenceError","raw":"ReferenceError: shouldRetryError is not defined\n    at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)\n    at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)\n    at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)\n    at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)","sourceInfo":[{"column":"25","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"new JobError","line":"1242"},{"column":"10","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"processError","line":"1310"},{"column":"28","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"Worker.processJob [as processFn]","line":"3163"}],"stack":["at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)","at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)","at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)","at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32","at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)"]},"jobId":"19e2344e-fa33-4643-8226-c6ec94d4cf72","jobInfo":{"attempts":1,"data":{"aiService":"gemini","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"24c96ed7-d8b8-4f92-b49a-7e44f3c9d90c","url":"https://www.youtube.com/watch?v=RyqjHfHntiI&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=52","userId":"e769825b-4878-4a56-af2c-45e558c1f5e8"},"maxAttempts":3,"timestamp":"2025-04-03T21:59:29.334Z"},"level":"error","message":"Job 19e2344e-fa33-4643-8226-c6ec94d4cf72 failed with error:","timestamp":"2025-04-03T21:59:29.334Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T21:59:30.312Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":12572,"timestamp":"2025-04-03T22:24:07.320Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T22:24:07.322Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T22:24:07.323Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T22:24:07.328Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T22:24:07.329Z"}
{"jobId":"19e2344e-fa33-4643-8226-c6ec94d4cf72","level":"info","message":"Job 19e2344e-fa33-4643-8226-c6ec94d4cf72 has started processing","timestamp":"2025-04-03T22:24:07.376Z"}
{"level":"info","message":"Initialized GeminiKeyManager with 2 keys","timestamp":"2025-04-03T22:24:07.383Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-03T22:24:07.383Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T22:24:07.384Z","url":"https://www.youtube.com/watch?v=RyqjHfHntiI&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=52"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T22:24:07.386Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-03T22:24:07.422Z"}
{"level":"info","message":"Transcript download complete","timestamp":"2025-04-03T22:24:31.120Z","title":"السيرة النبوية | 52. تحويل القبلة.. أول المحن الشديدة للمسلمين في المدينة | محمد إلهامي","videoId":"RyqjHfHntiI"}
{"level":"info","message":"Verified files exist","srt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RyqjHfHntiI\\RyqjHfHntiI.srt","timestamp":"2025-04-03T22:24:31.121Z","txt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RyqjHfHntiI\\RyqjHfHntiI.txt"}
{"level":"info","message":"Transcript extraction complete","timestamp":"2025-04-03T22:24:31.138Z","title":"السيرة النبوية | 52. تحويل القبلة.. أول المحن الشديدة للمسلمين في المدينة | محمد إلهامي","videoId":"RyqjHfHntiI"}
{"level":"info","message":"Text content read","size":26762,"timestamp":"2025-04-03T22:24:31.142Z"}
{"contentLength":26762,"level":"info","message":"Starting content processing","timestamp":"2025-04-03T22:24:31.147Z","title":"السيرة النبوية | 52. تحويل القبلة.. أول المحن الشديدة للمسلمين في المدينة | محمد إلهامي"}
{"level":"info","message":"Splitting text of length 26762 into chunks...","timestamp":"2025-04-03T22:24:31.147Z"}
{"level":"info","message":"Created 1 chunks","timestamp":"2025-04-03T22:24:31.148Z"}
{"level":"info","message":"Chunk 1 length: 26762","timestamp":"2025-04-03T22:24:31.148Z"}
{"level":"info","message":"Splitting sentence 1 of length 26762 into more chunks (word based)...","timestamp":"2025-04-03T22:24:31.149Z"}
{"level":"info","message":"Created 2 chunks","timestamp":"2025-04-03T22:24:31.152Z"}
{"level":"info","message":"Chunk 1 length: 19999","timestamp":"2025-04-03T22:24:31.152Z"}
{"level":"info","message":"Chunk 2 length: 6762","timestamp":"2025-04-03T22:24:31.152Z"}
{"level":"info","message":"Processing chunk 1/2 (Attempt 1)","timestamp":"2025-04-03T22:24:31.153Z"}
{"level":"info","message":"Successfully processed chunk 1","timestamp":"2025-04-03T22:25:00.955Z"}
{"level":"info","message":"Processing chunk 2/2 (Attempt 1)","timestamp":"2025-04-03T22:25:01.458Z"}
{"level":"info","message":"Successfully processed chunk 2","timestamp":"2025-04-03T22:25:13.842Z"}
{"inputLength":26762,"level":"info","message":"Content processing completed","outputLength":27357,"timestamp":"2025-04-03T22:25:13.843Z"}
{"level":"info","message":"AI processing complete","processedSize":27448,"timestamp":"2025-04-03T22:25:13.864Z"}
{"level":"info","message":"Created temp MDX file","tempMdxPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\RyqjHfHntiI_temp.mdx","timestamp":"2025-04-03T22:25:13.871Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0\\RyqjHfHntiI.mdx","level":"info","message":"Created final MDX with timestamps","timestamp":"2025-04-03T22:25:18.033Z"}
{"finalPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0\\RyqjHfHntiI.mdx","level":"info","message":"Conversion completed successfully","timestamp":"2025-04-03T22:25:18.037Z","title":"السيرة النبوية | 52. تحويل القبلة.. أول المحن الشديدة للمسلمين في المدينة | محمد إلهامي","videoId":"RyqjHfHntiI"}
{"error":{"message":"shouldRetryError is not defined","name":"ReferenceError","raw":"ReferenceError: shouldRetryError is not defined\n    at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)\n    at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)\n    at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)","sourceInfo":[{"column":"25","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"new JobError","line":"1242"},{"column":"10","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"processError","line":"1310"},{"column":"28","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"Worker.processJob [as processFn]","line":"3163"}],"stack":["at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)","at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)","at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)","at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32","at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)"]},"jobId":"19e2344e-fa33-4643-8226-c6ec94d4cf72","jobInfo":{"attempts":2,"data":{"aiService":"gemini","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"24c96ed7-d8b8-4f92-b49a-7e44f3c9d90c","url":"https://www.youtube.com/watch?v=RyqjHfHntiI&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=52","userId":"e769825b-4878-4a56-af2c-45e558c1f5e8"},"maxAttempts":3,"timestamp":"2025-04-03T22:25:18.088Z"},"level":"error","message":"Job 19e2344e-fa33-4643-8226-c6ec94d4cf72 failed with error:","timestamp":"2025-04-03T22:25:18.088Z"}
{"jobId":"19e2344e-fa33-4643-8226-c6ec94d4cf72","level":"info","message":"Job 19e2344e-fa33-4643-8226-c6ec94d4cf72 has started processing","timestamp":"2025-04-03T22:25:28.144Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-03T22:25:28.154Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T22:25:28.156Z","url":"https://www.youtube.com/watch?v=RyqjHfHntiI&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=52"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-03T22:25:28.158Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-03T22:25:28.175Z"}
{"error":{"message":"shouldRetryError is not defined","name":"ReferenceError","raw":"ReferenceError: shouldRetryError is not defined\n    at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)\n    at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)\n    at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)\n    at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)","sourceInfo":[{"column":"25","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"new JobError","line":"1242"},{"column":"10","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"processError","line":"1310"},{"column":"28","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"Worker.processJob [as processFn]","line":"3163"}],"stack":["at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)","at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)","at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)","at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32","at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)"]},"jobId":"19e2344e-fa33-4643-8226-c6ec94d4cf72","jobInfo":{"attempts":3,"data":{"aiService":"gemini","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"24c96ed7-d8b8-4f92-b49a-7e44f3c9d90c","url":"https://www.youtube.com/watch?v=RyqjHfHntiI&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=52","userId":"e769825b-4878-4a56-af2c-45e558c1f5e8"},"maxAttempts":3,"timestamp":"2025-04-03T22:25:43.133Z"},"level":"error","message":"Job 19e2344e-fa33-4643-8226-c6ec94d4cf72 failed with error:","timestamp":"2025-04-03T22:25:43.134Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T22:26:19.573Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":1244,"timestamp":"2025-04-03T22:28:46.055Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-03T22:28:46.057Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-03T22:28:46.058Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-03T22:28:46.062Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-03T22:28:46.062Z"}
{"jobId":"7475af09-1e80-454c-8aad-1acedd86831c","level":"info","message":"Job 7475af09-1e80-454c-8aad-1acedd86831c has started processing","timestamp":"2025-04-03T22:29:20.942Z"}
{"level":"info","message":"Initialized GeminiKeyManager with 2 keys","timestamp":"2025-04-03T22:29:20.955Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-03T22:29:20.958Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLZmiPrHYOIsRYE84KPjNVCDvoWiPbcpG5","timestamp":"2025-04-03T22:29:20.963Z","url":"https://www.youtube.com/watch?v=RyqjHfHntiI&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=52"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLZmiPrHYOIsRYE84KPjNVCDvoWiPbcpG5","timestamp":"2025-04-03T22:29:20.973Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-03T22:29:21.076Z"}
{"error":{"message":"shouldRetryError is not defined","name":"ReferenceError","raw":"ReferenceError: shouldRetryError is not defined\n    at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)\n    at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)\n    at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)\n    at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)","sourceInfo":[{"column":"25","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"new JobError","line":"1242"},{"column":"10","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"processError","line":"1310"},{"column":"28","file":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js","function":"Worker.processJob [as processFn]","line":"3163"}],"stack":["at new JobError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1242:25)","at processError (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:1310:10)","at Worker.processJob [as processFn] (C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\dist\\main.js:3163:28)","at async C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:517:32","at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\merqam\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:742:24)"]},"jobId":"7475af09-1e80-454c-8aad-1acedd86831c","jobInfo":{"attempts":1,"data":{"aiService":"gemini","playlistId":"PLZmiPrHYOIsRYE84KPjNVCDvoWiPbcpG5","speakerId":"450b3a8d-31e8-4415-bd2e-dfef62b72162","url":"https://www.youtube.com/watch?v=RyqjHfHntiI&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=52","userId":"e769825b-4878-4a56-af2c-45e558c1f5e8"},"maxAttempts":3,"timestamp":"2025-04-03T22:29:24.228Z"},"level":"error","message":"Job 7475af09-1e80-454c-8aad-1acedd86831c failed with error:","timestamp":"2025-04-03T22:29:24.231Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-03T22:29:25.208Z"}
{"level":"info","message":"Worker closed successfully","timestamp":"2025-04-03T22:29:25.213Z"}
{"level":"info","message":"Worker shutdown complete","timestamp":"2025-04-03T22:29:25.213Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":18688,"timestamp":"2025-04-05T11:34:10.016Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-05T11:34:10.017Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-05T11:34:10.018Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-05T11:34:10.023Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-05T11:34:10.023Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T11:34:10.037Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T11:34:10.039Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T11:34:11.050Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T11:34:11.054Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-05T11:34:11.903Z"}
{"level":"info","message":"Worker closed successfully","timestamp":"2025-04-05T11:34:11.904Z"}
{"level":"info","message":"Worker shutdown complete","timestamp":"2025-04-05T11:34:11.905Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.14.0","platform":"win32","processId":8772,"timestamp":"2025-04-05T12:43:45.856Z","workingDirectory":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-04-05T12:43:45.873Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-04-05T12:43:45.873Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-04-05T12:43:45.879Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-04-05T12:43:45.879Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:45.895Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:45.896Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:46.909Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:46.910Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:47.918Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:47.919Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:48.926Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:48.930Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:49.943Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:49.944Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:50.949Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:50.949Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:51.962Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:51.965Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:53.074Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:53.075Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:56.069Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:43:56.070Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:44:04.184Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"error","message":"Worker error:","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1634:16)","timestamp":"2025-04-05T12:44:04.185Z"}
{"jobId":"a01a1e72-fc96-4e9a-8aed-c9809505387c","level":"info","message":"Job a01a1e72-fc96-4e9a-8aed-c9809505387c has started processing","timestamp":"2025-04-05T12:45:52.050Z"}
{"level":"info","message":"Initialized GeminiKeyManager with 2 keys","timestamp":"2025-04-05T12:45:52.058Z"}
{"aiService":"gemini","dataPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data","level":"info","message":"Enhanced TxtToMdxConverter initialized","tempDir":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp","timestamp":"2025-04-05T12:45:52.059Z"}
{"level":"info","message":"Input validation successful","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-05T12:45:52.063Z","url":"https://www.youtube.com/watch?v=kzAaybjCgMI&list=PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0&index=44"}
{"level":"info","message":"Directories set up","playlistPath":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\public\\data\\PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","timestamp":"2025-04-05T12:45:52.072Z"}
{"level":"info","message":"Starting transcript download...","timestamp":"2025-04-05T12:45:52.128Z"}
{"level":"info","message":"Transcript download complete","timestamp":"2025-04-05T12:46:18.074Z","title":"السيرة النبوية | 44. لماذا لم ينشئ النبي مؤسسات وأجهزة أمن في بداية الدولة الإسلامية؟ | محمد إلهامي","videoId":"kzAaybjCgMI"}
{"level":"info","message":"Verified files exist","srt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\kzAaybjCgMI\\kzAaybjCgMI.srt","timestamp":"2025-04-05T12:46:18.078Z","txt":"C:\\Users\\month\\workspace\\merqam\\packages\\lessons-worker\\temp\\kzAaybjCgMI\\kzAaybjCgMI.txt"}
{"level":"info","message":"Transcript extraction complete","timestamp":"2025-04-05T12:46:18.121Z","title":"السيرة النبوية | 44. لماذا لم ينشئ النبي مؤسسات وأجهزة أمن في بداية الدولة الإسلامية؟ | محمد إلهامي","videoId":"kzAaybjCgMI"}
{"level":"info","message":"Text content read","size":32678,"timestamp":"2025-04-05T12:46:18.123Z"}
{"contentLength":32678,"level":"info","message":"Starting content processing","timestamp":"2025-04-05T12:46:18.129Z","title":"السيرة النبوية | 44. لماذا لم ينشئ النبي مؤسسات وأجهزة أمن في بداية الدولة الإسلامية؟ | محمد إلهامي"}
{"level":"info","message":"Splitting text of length 32678 into chunks...","timestamp":"2025-04-05T12:46:18.130Z"}
{"level":"info","message":"Created 1 chunks","timestamp":"2025-04-05T12:46:18.131Z"}
{"level":"info","message":"Chunk 1 length: 32678","timestamp":"2025-04-05T12:46:18.131Z"}
{"level":"info","message":"Splitting sentence 1 of length 32678 into more chunks (word based)...","timestamp":"2025-04-05T12:46:18.132Z"}
{"level":"info","message":"Created 2 chunks","timestamp":"2025-04-05T12:46:18.136Z"}
{"level":"info","message":"Chunk 1 length: 20000","timestamp":"2025-04-05T12:46:18.136Z"}
{"level":"info","message":"Chunk 2 length: 12677","timestamp":"2025-04-05T12:46:18.137Z"}
{"level":"info","message":"Processing chunk 1/2 (Attempt 1)","timestamp":"2025-04-05T12:46:18.138Z"}
{"level":"info","message":"Shutting down worker gracefully (SIGINT)...","timestamp":"2025-04-05T12:46:32.776Z"}
