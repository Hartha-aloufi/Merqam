{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job logger initialized for job 3c9916ad-f365-45be-8081-069a09f71135","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T20:58:14.064Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job 3c9916ad-f365-45be-8081-069a09f71135 started processing","metadata":{"data":{"aiService":"gemini","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda","url":"https://www.youtube.com/watch?v=GxVH3T3rcTA&list=PLi0wnr6UH6EnuEwNMma1x8fhEVgEBT2uS&index=23","userId":"8a15ac58-4373-4eaf-ad86-4cfdf4b60abe"},"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T20:58:14.065Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Progress: 0% - Initialized","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T20:58:14.065Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job data extracted","metadata":{"aiService":"gemini","jobId":"3c9916ad-f365-45be-8081-069a09f71135","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda","url":"https://www.youtube.com/watch?v=GxVH3T3rcTA&list=PLi0wnr6UH6EnuEwNMma1x8fhEVgEBT2uS&index=23","userId":"8a15ac58-4373-4eaf-ad86-4cfdf4b60abe"},"timestamp":"2025-03-02T20:58:14.066Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Starting content processing","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","url":"https://www.youtube.com/watch?v=GxVH3T3rcTA&list=PLi0wnr6UH6EnuEwNMma1x8fhEVgEBT2uS&index=23"},"timestamp":"2025-03-02T20:58:14.067Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Content processing completed","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","title":"السيرة النبوية   23  صدمة حكيم قريش ومبعوثها إلى رسول الله!!   محمد إلهامي","videoId":"GxVH3T3rcTA"},"timestamp":"2025-03-02T21:00:15.831Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Starting database transaction to save results","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:00:15.832Z"}
{"level":"debug","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Using existing speaker","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda"},"timestamp":"2025-03-02T21:00:15.836Z"}
{"level":"debug","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Using existing playlist","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0"},"timestamp":"2025-03-02T21:00:15.837Z"}
{"level":"debug","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Creating YouTube video entry","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda","videoId":"GxVH3T3rcTA"},"timestamp":"2025-03-02T21:00:15.838Z"}
{"level":"error","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job 3c9916ad-f365-45be-8081-069a09f71135 failed","metadata":{"error":{"message":"Cannot read properties of undefined (reading 'slice')","name":"JobError","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)"},"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:00:15.937Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] METRIC.executionTime","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","metric":{"name":"executionTime","unit":"ms","value":121.872},"status":"failed"},"timestamp":"2025-03-02T21:00:15.937Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job logger initialized for job 3c9916ad-f365-45be-8081-069a09f71135","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:06:47.486Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job 3c9916ad-f365-45be-8081-069a09f71135 started processing","metadata":{"data":{"aiService":"gemini","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda","url":"https://www.youtube.com/watch?v=GxVH3T3rcTA&list=PLi0wnr6UH6EnuEwNMma1x8fhEVgEBT2uS&index=23","userId":"8a15ac58-4373-4eaf-ad86-4cfdf4b60abe"},"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:06:47.487Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Progress: 0% - Initialized","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:06:47.489Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job data extracted","metadata":{"aiService":"gemini","jobId":"3c9916ad-f365-45be-8081-069a09f71135","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda","url":"https://www.youtube.com/watch?v=GxVH3T3rcTA&list=PLi0wnr6UH6EnuEwNMma1x8fhEVgEBT2uS&index=23","userId":"8a15ac58-4373-4eaf-ad86-4cfdf4b60abe"},"timestamp":"2025-03-02T21:06:47.490Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Starting content processing","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","url":"https://www.youtube.com/watch?v=GxVH3T3rcTA&list=PLi0wnr6UH6EnuEwNMma1x8fhEVgEBT2uS&index=23"},"timestamp":"2025-03-02T21:06:47.492Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Content processing completed","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","title":"السيرة النبوية   23  صدمة حكيم قريش ومبعوثها إلى رسول الله!!   محمد إلهامي","videoId":"GxVH3T3rcTA"},"timestamp":"2025-03-02T21:08:43.853Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Starting database transaction to save results","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:08:43.853Z"}
{"level":"debug","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Using existing speaker","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda"},"timestamp":"2025-03-02T21:08:43.855Z"}
{"level":"debug","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Using existing playlist","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0"},"timestamp":"2025-03-02T21:08:43.855Z"}
{"level":"debug","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Creating YouTube video entry","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda","videoId":"GxVH3T3rcTA"},"timestamp":"2025-03-02T21:08:43.856Z"}
{"level":"error","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job 3c9916ad-f365-45be-8081-069a09f71135 failed","metadata":{"error":{"message":"Cannot read properties of undefined (reading 'slice')","name":"JobError","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)"},"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:08:43.953Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] METRIC.executionTime","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","metric":{"name":"executionTime","unit":"ms","value":116.466},"status":"failed"},"timestamp":"2025-03-02T21:08:43.954Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job logger initialized for job 3c9916ad-f365-45be-8081-069a09f71135","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:14:51.416Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job 3c9916ad-f365-45be-8081-069a09f71135 started processing","metadata":{"data":{"aiService":"gemini","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda","url":"https://www.youtube.com/watch?v=GxVH3T3rcTA&list=PLi0wnr6UH6EnuEwNMma1x8fhEVgEBT2uS&index=23","userId":"8a15ac58-4373-4eaf-ad86-4cfdf4b60abe"},"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:14:51.417Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Progress: 0% - Initialized","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:14:51.419Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job data extracted","metadata":{"aiService":"gemini","jobId":"3c9916ad-f365-45be-8081-069a09f71135","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda","url":"https://www.youtube.com/watch?v=GxVH3T3rcTA&list=PLi0wnr6UH6EnuEwNMma1x8fhEVgEBT2uS&index=23","userId":"8a15ac58-4373-4eaf-ad86-4cfdf4b60abe"},"timestamp":"2025-03-02T21:14:51.420Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Starting content processing","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","url":"https://www.youtube.com/watch?v=GxVH3T3rcTA&list=PLi0wnr6UH6EnuEwNMma1x8fhEVgEBT2uS&index=23"},"timestamp":"2025-03-02T21:14:51.422Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Content processing completed","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","title":"السيرة النبوية   23  صدمة حكيم قريش ومبعوثها إلى رسول الله!!   محمد إلهامي","videoId":"GxVH3T3rcTA"},"timestamp":"2025-03-02T21:16:39.158Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Starting database transaction to save results","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:16:39.159Z"}
{"level":"debug","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Using existing speaker","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda"},"timestamp":"2025-03-02T21:16:39.160Z"}
{"level":"debug","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Using existing playlist","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0"},"timestamp":"2025-03-02T21:16:39.161Z"}
{"level":"debug","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Creating YouTube video entry","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","playlistId":"PLnpknmCXt_N5X7DKYKcYk5EkyW0-wmyJ0","speakerId":"c35d6b61-89d0-444b-8ef4-7a84725a0dda","videoId":"GxVH3T3rcTA"},"timestamp":"2025-03-02T21:16:39.161Z"}
{"level":"error","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] Job 3c9916ad-f365-45be-8081-069a09f71135 failed","metadata":{"error":{"message":"Cannot read properties of undefined (reading 'slice')","name":"JobError","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)"},"jobId":"3c9916ad-f365-45be-8081-069a09f71135"},"timestamp":"2025-03-02T21:16:39.259Z"}
{"level":"info","message":"[lesson-generation:3c9916ad-f365-45be-8081-069a09f71135] METRIC.executionTime","metadata":{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","metric":{"name":"executionTime","unit":"ms","value":107.841},"status":"failed"},"timestamp":"2025-03-02T21:16:39.259Z"}
