{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.13.0","platform":"win32","processId":4084,"timestamp":"2025-03-02T20:49:12.969Z","workingDirectory":"C:\\Users\\month\\workspace\\Merqam"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-03-02T20:49:12.970Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-03-02T20:49:12.971Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-03-02T20:49:12.976Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-03-02T20:49:12.976Z"}
{"jobId":"2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39","level":"info","message":"Job 2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39 has started processing","timestamp":"2025-03-02T20:52:01.605Z"}
{"attempts":1,"error":"Cannot read properties of undefined (reading 'slice')","jobId":"2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39","level":"error","maxAttempts":3,"message":"Job 2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39 failed with error:","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T20:53:57.536Z"}
{"jobId":"d44ac710-17a7-4bbf-bbf8-b8b6b76eba84","level":"info","message":"Job d44ac710-17a7-4bbf-bbf8-b8b6b76eba84 has started processing","timestamp":"2025-03-02T20:53:57.538Z"}
{"attempts":1,"error":"Cannot read properties of undefined (reading 'slice')","jobId":"d44ac710-17a7-4bbf-bbf8-b8b6b76eba84","level":"error","maxAttempts":3,"message":"Job d44ac710-17a7-4bbf-bbf8-b8b6b76eba84 failed with error:","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T20:55:50.782Z"}
{"jobId":"5b75e02b-5fd8-4733-9946-45ff44fe9535","level":"info","message":"Job 5b75e02b-5fd8-4733-9946-45ff44fe9535 has started processing","timestamp":"2025-03-02T20:55:50.783Z"}
{"attempts":1,"error":"Cannot read properties of undefined (reading 'slice')","jobId":"5b75e02b-5fd8-4733-9946-45ff44fe9535","level":"error","maxAttempts":3,"message":"Job 5b75e02b-5fd8-4733-9946-45ff44fe9535 failed with error:","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T20:58:14.060Z"}
{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","level":"info","message":"Job 3c9916ad-f365-45be-8081-069a09f71135 has started processing","timestamp":"2025-03-02T20:58:14.062Z"}
{"attempts":1,"error":"Cannot read properties of undefined (reading 'slice')","jobId":"3c9916ad-f365-45be-8081-069a09f71135","level":"error","maxAttempts":3,"message":"Job 3c9916ad-f365-45be-8081-069a09f71135 failed with error:","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T21:00:15.939Z"}
{"jobId":"2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39","level":"info","message":"Job 2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39 has started processing","timestamp":"2025-03-02T21:00:15.941Z"}
{"attempts":2,"error":"Cannot read properties of undefined (reading 'slice')","jobId":"2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39","level":"error","maxAttempts":3,"message":"Job 2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39 failed with error:","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T21:02:19.770Z"}
{"jobId":"d44ac710-17a7-4bbf-bbf8-b8b6b76eba84","level":"info","message":"Job d44ac710-17a7-4bbf-bbf8-b8b6b76eba84 has started processing","timestamp":"2025-03-02T21:02:19.772Z"}
{"attempts":2,"error":"Cannot read properties of undefined (reading 'slice')","jobId":"d44ac710-17a7-4bbf-bbf8-b8b6b76eba84","level":"error","maxAttempts":3,"message":"Job d44ac710-17a7-4bbf-bbf8-b8b6b76eba84 failed with error:","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T21:04:36.316Z"}
{"jobId":"5b75e02b-5fd8-4733-9946-45ff44fe9535","level":"info","message":"Job 5b75e02b-5fd8-4733-9946-45ff44fe9535 has started processing","timestamp":"2025-03-02T21:04:36.318Z"}
{"attempts":2,"error":"Cannot read properties of undefined (reading 'slice')","jobId":"5b75e02b-5fd8-4733-9946-45ff44fe9535","level":"error","maxAttempts":3,"message":"Job 5b75e02b-5fd8-4733-9946-45ff44fe9535 failed with error:","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T21:06:47.479Z"}
{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","level":"info","message":"Job 3c9916ad-f365-45be-8081-069a09f71135 has started processing","timestamp":"2025-03-02T21:06:47.483Z"}
{"attempts":2,"error":"Cannot read properties of undefined (reading 'slice')","jobId":"3c9916ad-f365-45be-8081-069a09f71135","level":"error","maxAttempts":3,"message":"Job 3c9916ad-f365-45be-8081-069a09f71135 failed with error:","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T21:08:43.956Z"}
{"jobId":"2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39","level":"info","message":"Job 2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39 has started processing","timestamp":"2025-03-02T21:08:43.958Z"}
{"attempts":3,"error":"Cannot read properties of undefined (reading 'slice')","jobId":"2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39","level":"error","maxAttempts":3,"message":"Job 2cdb0dbc-c3d6-4b11-a8b0-cc24197fae39 failed with error:","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T21:10:29.637Z"}
{"jobId":"d44ac710-17a7-4bbf-bbf8-b8b6b76eba84","level":"info","message":"Job d44ac710-17a7-4bbf-bbf8-b8b6b76eba84 has started processing","timestamp":"2025-03-02T21:10:29.638Z"}
{"attempts":3,"error":"AI processing failed","jobId":"d44ac710-17a7-4bbf-bbf8-b8b6b76eba84","level":"error","maxAttempts":3,"message":"Job d44ac710-17a7-4bbf-bbf8-b8b6b76eba84 failed with error:","stack":"JobError: AI processing failed\n    at EnhancedTxtToMdxConverter.processWithAI (C:\\Users\\month\\workspace\\Merqam\\src\\client\\lib\\txt-to-mdx\\enhanced-converter.ts:269:10)\n    at async EnhancedTxtToMdxConverter.processContent (C:\\Users\\month\\workspace\\Merqam\\src\\client\\lib\\txt-to-mdx\\enhanced-converter.ts:103:29)\n    at async Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:72:28)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T21:12:35.967Z"}
{"jobId":"5b75e02b-5fd8-4733-9946-45ff44fe9535","level":"info","message":"Job 5b75e02b-5fd8-4733-9946-45ff44fe9535 has started processing","timestamp":"2025-03-02T21:12:35.968Z"}
{"attempts":3,"error":"Cannot read properties of undefined (reading 'slice')","jobId":"5b75e02b-5fd8-4733-9946-45ff44fe9535","level":"error","maxAttempts":3,"message":"Job 5b75e02b-5fd8-4733-9946-45ff44fe9535 failed with error:","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T21:14:51.412Z"}
{"jobId":"3c9916ad-f365-45be-8081-069a09f71135","level":"info","message":"Job 3c9916ad-f365-45be-8081-069a09f71135 has started processing","timestamp":"2025-03-02T21:14:51.413Z"}
{"attempts":3,"error":"Cannot read properties of undefined (reading 'slice')","jobId":"3c9916ad-f365-45be-8081-069a09f71135","level":"error","maxAttempts":3,"message":"Job 3c9916ad-f365-45be-8081-069a09f71135 failed with error:","stack":"JobError: Cannot read properties of undefined (reading 'slice')\n    at processError (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\job-error-utils.ts:161:9)\n    at Worker.processJob (C:\\Users\\month\\workspace\\Merqam\\src\\server\\queue\\lesson-generation-worker.ts:210:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:910:26)\n    at async Worker.retryIfFailed (C:\\Users\\month\\workspace\\Merqam\\node_modules\\bullmq\\src\\classes\\worker.ts:1174:16)","timestamp":"2025-03-02T21:16:39.261Z"}
{"error":"read ECONNRESET","level":"error","message":"Worker error:","stack":"Error: read ECONNRESET\n    at TCP.onStreamRead (node:internal/stream_base_commons:216:20)","timestamp":"2025-03-03T07:33:52.051Z"}
{"arch":"x64","level":"info","message":"Worker process starting","nodeVersion":"v22.13.0","platform":"win32","processId":21048,"timestamp":"2025-03-03T18:46:04.158Z","workingDirectory":"C:\\Users\\month\\workspace\\Merqam"}
{"level":"info","message":"Starting enhanced lesson generation worker...","timestamp":"2025-03-03T18:46:04.159Z"}
{"level":"info","message":"Initializing enhanced lesson generation worker","timestamp":"2025-03-03T18:46:04.160Z"}
{"level":"info","message":"Enhanced lesson generation worker initialized","timestamp":"2025-03-03T18:46:04.164Z"}
{"level":"info","message":"Worker started successfully","timestamp":"2025-03-03T18:46:04.164Z"}
